---
title: "Homework 2"
author: Yuanxin Zhang
output: github_document
---

This is my solution to Homework 2.

```{r setup}
library(tidyverse)
library(readxl)
```

# Question 1
### Part 1: Read and clean the Mr. Trash Wheel sheet
(1) Specify the sheet in the Excel file and to omit non-data entries
(2) Use reasonable variable names
(3) Omit rows that do not include dumpster-specific data
(4) Round the number of sports balls to the nearest integer and converts the result to an integer variable
```{r readnclean_trashwheel}
trashwheel_df = 
	read_xlsx(
		"./data/Trash-Wheel-Collection-Totals-8-6-19.xlsx",
		sheet = "Mr. Trash Wheel",
		range = cell_cols("A:N")) %>% 
	janitor::clean_names() %>% 
	drop_na(dumpster) %>% 
	mutate(
		sports_balls = round(sports_balls),
		sports_balls = as.integer(sports_balls)
	)
```

### Part 2: Read and clean precipitation data for 2017 and 2018
(1) For each, omit rows without precipitation data and add a variable year.
```{r readnclean_precipitation}
precip_2017 = 
	read_xlsx(
		"./data/Trash-Wheel-Collection-Totals-8-6-19.xlsx",
		sheet = "2017 Precipitation",
		skip = 1) %>% 
	janitor::clean_names() %>% 
	drop_na(month) %>% 
	mutate(year = 2017) %>% 
	relocate(year)

precip_2018 = 
	read_xlsx(
		"./data/Trash-Wheel-Collection-Totals-8-6-19.xlsx",
		sheet = "2018 Precipitation",
		skip = 1) %>% 
	janitor::clean_names() %>% 
	drop_na(month) %>% 
	mutate(year = 2018) %>% 
	relocate(year)
```

(2) Combine precipitation datasets and convert month to a character variable.
```{r combine_precipitation}
month_df = 
	tibble(
		month = 1:12,
		month_name = month.name
	)

precip_df = 
	bind_rows(precip_2017, precip_2018)

precip_df =
	left_join(precip_df, month_df, by = "month")
```

### Part 3: Write a paragraph about these data
Mr. Trash Wheel dataset contains information from the Mr. Trash Wheel trash collector in Baltimore, Maryland. As trash enters the inner harbor, the trash wheel collects that trash, and stores it in a dumpster. The dataset contains information on year, month, and trash collected, include some specific kinds of trash. There are a total of `r nrow(trashwheel_df)` rows in our final dataset. The median number of sports balls found in a dumpster in 2017 was `r trashwheel_df %>% filter(year == 2017) %>% pull(sports_balls) %>% median()`

Additional data sheets include month precipitation data, in which:

* There are a total of `r nrow(precip_df)` rows in our final dataset that combine precipitation data for 2017 and 2018. 
* The total precipitation in 2018 was `r precip_df %>% filter(year == 2018) %>% pull(total) %>% sum()` inches.


# Question 2
